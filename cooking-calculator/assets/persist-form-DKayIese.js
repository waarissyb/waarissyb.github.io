function l(t,n){if(!t||!n)return;try{const e=localStorage.getItem(n);e&&s(t,JSON.parse(e))}catch{}const c=()=>{const e=o(t);localStorage.setItem(n,JSON.stringify(e))};t.addEventListener("input",c),t.addEventListener("change",c)}function o(t){const n={},c=t.elements;for(const e of c)e.name&&e.tagName!=="OUTPUT"&&(e.type==="radio"?e.checked&&(n[e.name]=e.value):e.type==="checkbox"?n[e.name]=e.checked:n[e.name]=e.value);return n}function s(t,n){for(const[c,e]of Object.entries(n)){const a=t.elements.namedItem(c);if(a&&!(a instanceof HTMLElement&&a.tagName==="OUTPUT")){if(a instanceof RadioNodeList){for(const i of a)i.type==="radio"&&(i.checked=i.value===e);continue}a.type==="checkbox"?a.checked=!!e:a.value=String(e)}}t.dispatchEvent(new Event("input",{bubbles:!0}))}export{l as p};
